import{s as re,l as A,e as C,c as E,b as N,f as $,p as w,i as v,r as ce,m as j,a as z,q as H,g as P,k as fe,o as ue,h as O,n as V,t as M,d as B,E as ne,u as Q,j as G}from"../chunks/scheduler.CbFSYGZU.js";import{S as le,i as ae,b as T,c as y,a as x,m as I,t as h,d as b,f as D,e as L,g as F}from"../chunks/index._YEAsZDy.js";import{e as R}from"../chunks/index.BK2GWwFq.js";import{B as pe,H as me,a as de,P as $e,I as _e}from"../chunks/PlaceholderBlock.J8MSsm6N.js";import{B as J}from"../chunks/Button.CIRMHUNa.js";import{C as K}from"../chunks/Card.B1C1hyhL.js";import{E as ge,s as se,L as he,I as be,a as U,S as ve}from"../chunks/toast.J7Fx0rWr.js";import{F as ke}from"../chunks/FolderOpenSolid.CgyJRvep.js";import{P as oe}from"../chunks/PlusOutline.7SNBi0Rl.js";import{C as ie}from"../chunks/coro-client.vR-dqdj0.js";import{M as we}from"../chunks/More.DFsG4VME.js";import{E as Ce}from"../chunks/ErrorLoadResourceSection.BY6zfPhk.js";import{a as Ee}from"../chunks/namespace.DYAXPB0R.js";function ye(o){let e,t="Name",n,r,l,s;function i(c){o[5](c)}let a={name:"name",placeholder:"Type operator name",required:!0};return o[2]!==void 0&&(a.value=o[2]),r=new be({props:a}),A.push(()=>T(r,"value",i)),{c(){e=C("span"),e.textContent=t,n=z(),y(r.$$.fragment)},l(c){e=E(c,"SPAN",{"data-svelte-h":!0}),H(e)!=="svelte-15ueaex"&&(e.textContent=t),n=P(c),x(r.$$.fragment,c)},m(c,f){v(c,e,f),v(c,n,f),I(r,c,f),s=!0},p(c,f){const p={};!l&&f&4&&(l=!0,p.value=c[2],j(()=>l=!1)),r.$set(p)},i(c){s||(h(r.$$.fragment,c),s=!0)},o(c){b(r.$$.fragment,c),s=!1},d(c){c&&($(e),$(n)),D(r,c)}}}function xe(o){let e,t,n;return t=new he({props:{class:"space-y-2",$$slots:{default:[ye]},$$scope:{ctx:o}}}),{c(){e=C("div"),y(t.$$.fragment),this.h()},l(r){e=E(r,"DIV",{class:!0});var l=N(e);x(t.$$.fragment,l),l.forEach($),this.h()},h(){w(e,"class","col-span-2")},m(r,l){v(r,e,l),I(t,e,null),n=!0},p(r,l){const s={};l&516&&(s.$$scope={dirty:l,ctx:r}),t.$set(s)},i(r){n||(h(t.$$.fragment,r),n=!0)},o(r){b(t.$$.fragment,r),n=!1},d(r){r&&$(e),D(t)}}}function Ie(o){let e,t,n,r,l,s,i;function a(p){o[6](p)}function c(p){o[7](p)}let f={entityType:"operator",modalType:"create",$$slots:{default:[xe]},$$scope:{ctx:o}};return o[0]!==void 0&&(f.open=o[0]),o[1]!==void 0&&(f.loading=o[1]),t=new ge({props:f}),A.push(()=>T(t,"open",a)),A.push(()=>T(t,"loading",c)),{c(){e=C("form"),y(t.$$.fragment),this.h()},l(p){e=E(p,"FORM",{class:!0,action:!0});var u=N(e);x(t.$$.fragment,u),u.forEach($),this.h()},h(){w(e,"class","flex flex-col space-y-6"),w(e,"action","#")},m(p,u){v(p,e,u),I(t,e,null),l=!0,s||(i=ce(e,"submit",o[3]),s=!0)},p(p,[u]){const _={};u&516&&(_.$$scope={dirty:u,ctx:p}),!n&&u&1&&(n=!0,_.open=p[0],j(()=>n=!1)),!r&&u&2&&(r=!0,_.loading=p[1],j(()=>r=!1)),t.$set(_)},i(p){l||(h(t.$$.fragment,p),l=!0)},o(p){b(t.$$.fragment,p),l=!1},d(p){p&&$(e),D(t),s=!1,i()}}}function De(o,e,t){let{open:n=!1}=e,{operators:r}=e,l=!1,s="";const i=new ie;async function a(u){u.preventDefault();try{t(1,l=!0);const _=await i.createOperator(s);t(4,r=[_,...r]),t(2,s=""),t(0,n=!1)}catch(_){se(_)}finally{t(1,l=!1)}}function c(u){s=u,t(2,s)}function f(u){n=u,t(0,n)}function p(u){l=u,t(1,l)}return o.$$set=u=>{"open"in u&&t(0,n=u.open),"operators"in u&&t(4,r=u.operators)},[n,l,s,a,r,c,f,p]}class Ne extends le{constructor(e){super(),ae(this,e,De,Ie,re,{open:0,operators:4})}}function W(o,e,t){const n=o.slice();return n[16]=e[t],n}function Oe(o,e,t){const n=o.slice();return n[13]=e[t],n}function ze(o){let e,t,n,r,l="Operators",s,i,a,c,f,p,u;e=new pe({props:{marginBot:5}}),i=new J({props:{size:"md",class:"gap-2 whitespace-nowrap px-3",$$slots:{default:[Se]},$$scope:{ctx:o}}}),i.$on("click",o[7]);const _=[Be,Me,Ve],g=[];function d(m,k){return!m[1]&&!m[0].length?0:m[1]&&!m[0].length?1:2}return f=d(o),p=g[f]=_[f](o),{c(){y(e.$$.fragment),t=z(),n=C("div"),r=C("span"),r.textContent=l,s=z(),y(i.$$.fragment),a=z(),c=C("div"),p.c(),this.h()},l(m){x(e.$$.fragment,m),t=P(m),n=E(m,"DIV",{class:!0});var k=N(n);r=E(k,"SPAN",{class:!0,"data-svelte-h":!0}),H(r)!=="svelte-z0veul"&&(r.textContent=l),s=P(k),x(i.$$.fragment,k),k.forEach($),a=P(m),c=E(m,"DIV",{class:!0});var S=N(c);p.l(S),S.forEach($),this.h()},h(){w(r,"class","-mb-2.5 text-3xl font-bold leading-none text-light-base dark:text-dark-base"),w(n,"class","flex items-center justify-between mb-5"),w(c,"class","mt-px space-y-4")},m(m,k){I(e,m,k),v(m,t,k),v(m,n,k),O(n,r),O(n,s),I(i,n,null),v(m,a,k),v(m,c,k),g[f].m(c,null),u=!0},p(m,k){const S={};k&524288&&(S.$$scope={dirty:k,ctx:m}),i.$set(S);let q=f;f=d(m),f===q?g[f].p(m,k):(F(),b(g[q],1,1,()=>{g[q]=null}),L(),p=g[f],p?p.p(m,k):(p=g[f]=_[f](m),p.c()),h(p,1),p.m(c,null))},i(m){u||(h(e.$$.fragment,m),h(i.$$.fragment,m),h(p),u=!0)},o(m){b(e.$$.fragment,m),b(i.$$.fragment,m),b(p),u=!1},d(m){m&&($(t),$(n),$(a),$(c)),D(e,m),D(i),g[f].d()}}}function Pe(o){let e,t;return e=new Ce({}),{c(){y(e.$$.fragment)},l(n){x(e.$$.fragment,n)},m(n,r){I(e,n,r),t=!0},p:V,i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){D(e,n)}}}function Se(o){let e,t,n;return e=new oe({props:{size:"md"}}),{c(){y(e.$$.fragment),t=M(`
				Create Operator`)},l(r){x(e.$$.fragment,r),t=B(r,`
				Create Operator`)},m(r,l){I(e,r,l),v(r,t,l),n=!0},p:V,i(r){n||(h(e.$$.fragment,r),n=!0)},o(r){b(e.$$.fragment,r),n=!1},d(r){r&&$(t),D(e,r)}}}function Ve(o){let e,t,n,r=R(o[0]),l=[];for(let a=0;a<r.length;a+=1)l[a]=Y(W(o,r,a));const s=a=>b(l[a],1,1,()=>{l[a]=null});let i=o[4]&&Z(o);return{c(){e=C("div");for(let a=0;a<l.length;a+=1)l[a].c();t=z(),i&&i.c(),this.h()},l(a){e=E(a,"DIV",{class:!0});var c=N(e);for(let f=0;f<l.length;f+=1)l[f].l(c);t=P(c),i&&i.l(c),c.forEach($),this.h()},h(){w(e,"class","grid gap-4 grid-cols-1 sm:grid-cols-2 xl:grid-cols-3 mb-2")},m(a,c){v(a,e,c);for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(e,null);O(e,t),i&&i.m(e,null),n=!0},p(a,c){if(c&33){r=R(a[0]);let f;for(f=0;f<r.length;f+=1){const p=W(a,r,f);l[f]?(l[f].p(p,c),h(l[f],1)):(l[f]=Y(p),l[f].c(),h(l[f],1),l[f].m(e,t))}for(F(),f=r.length;f<l.length;f+=1)s(f);L()}a[4]?i?(i.p(a,c),c&16&&h(i,1)):(i=Z(a),i.c(),h(i,1),i.m(e,null)):i&&(F(),b(i,1,1,()=>{i=null}),L())},i(a){if(!n){for(let c=0;c<r.length;c+=1)h(l[c]);h(i),n=!0}},o(a){l=l.filter(Boolean);for(let c=0;c<l.length;c+=1)b(l[c]);b(i),n=!1},d(a){a&&$(e),ne(l,a),i&&i.d()}}}function Me(o){let e,t,n=R({length:3}),r=[];for(let l=0;l<n.length;l+=1)r[l]=Re(Oe(o,n,l));return{c(){e=C("div");for(let l=0;l<r.length;l+=1)r[l].c();this.h()},l(l){e=E(l,"DIV",{class:!0});var s=N(e);for(let i=0;i<r.length;i+=1)r[i].l(s);s.forEach($),this.h()},h(){w(e,"class","grid grid-cols-1 gap-4 xl:grid-cols-3 mb-2")},m(l,s){v(l,e,s);for(let i=0;i<r.length;i+=1)r[i]&&r[i].m(e,null);t=!0},p:V,i(l){if(!t){for(let s=0;s<n.length;s+=1)h(r[s]);t=!0}},o(l){r=r.filter(Boolean);for(let s=0;s<r.length;s+=1)b(r[s]);t=!1},d(l){l&&$(e),ne(r,l)}}}function Be(o){let e,t,n;return t=new K({props:{class:"w-full max-w-2xl shadow-none dark:bg-dark-content border-light-border dark:border-dark-border",$$slots:{default:[Je]},$$scope:{ctx:o}}}),{c(){e=C("div"),y(t.$$.fragment),this.h()},l(r){e=E(r,"DIV",{class:!0});var l=N(e);x(t.$$.fragment,l),l.forEach($),this.h()},h(){w(e,"class","flex items-center justify-center h-96")},m(r,l){v(r,e,l),I(t,e,null),n=!0},p(r,l){const s={};l&524296&&(s.$$scope={dirty:l,ctx:r}),t.$set(s)},i(r){n||(h(t.$$.fragment,r),n=!0)},o(r){b(t.$$.fragment,r),n=!1},d(r){r&&$(e),D(t)}}}function Ae(o){let e=o[16].name+"",t;return{c(){t=M(e)},l(n){t=B(n,e)},m(n,r){v(n,t,r)},p(n,r){r&1&&e!==(e=n[16].name+"")&&G(t,e)},d(n){n&&$(t)}}}function je(o){let e,t,n,r,l=o[16].status.connected?"Connected":"Disconnected",s,i;return e=new _e({props:{color:o[16].status.connected?"green":"red",size:"xs",class:"me-1"}}),{c(){y(e.$$.fragment),t=z(),n=C("p"),r=M("NATS "),s=M(l),this.h()},l(a){x(e.$$.fragment,a),t=P(a),n=E(a,"P",{class:!0});var c=N(n);r=B(c,"NATS "),s=B(c,l),c.forEach($),this.h()},h(){w(n,"class","text-sm/4")},m(a,c){I(e,a,c),v(a,t,c),v(a,n,c),O(n,r),O(n,s),i=!0},p(a,c){const f={};c&1&&(f.color=a[16].status.connected?"green":"red"),e.$set(f),(!i||c&1)&&l!==(l=a[16].status.connected?"Connected":"Disconnected")&&G(s,l)},i(a){i||(h(e.$$.fragment,a),i=!0)},o(a){b(e.$$.fragment,a),i=!1},d(a){a&&($(t),$(n)),D(e,a)}}}function X(o){let e,t=U(o[16].status.connect_time)+"",n;return{c(){e=C("span"),n=M(t),this.h()},l(r){e=E(r,"SPAN",{class:!0});var l=N(e);n=B(l,t),l.forEach($),this.h()},h(){w(e,"class","flex ml-2 mt-1 text-xs text-light-base dark:text-dark-base break-words overflow-hidden")},m(r,l){v(r,e,l),O(e,n)},p(r,l){l&1&&t!==(t=U(r[16].status.connect_time)+"")&&G(n,t)},d(r){r&&$(e)}}}function Te(o){let e,t,n,r,l,s,i,a,c,f;t=new me({props:{tag:"h3",class:"text-2xl font-semibold text-light-base dark:text-dark-base",$$slots:{default:[Ae]},$$scope:{ctx:o}}}),l=new we({}),a=new de({props:{color:o[16].status.connected?"green":"red",rounded:!0,class:"px-2.5 py-1 flex items-center",$$slots:{default:[je]},$$scope:{ctx:o}}});let p=o[16].status.connected&&o[16].status.connect_time&&X(o);return{c(){e=C("div"),y(t.$$.fragment),n=z(),r=C("div"),y(l.$$.fragment),s=z(),i=C("div"),y(a.$$.fragment),c=z(),p&&p.c(),this.h()},l(u){e=E(u,"DIV",{class:!0});var _=N(e);x(t.$$.fragment,_),n=P(_),r=E(_,"DIV",{class:!0});var g=N(r);x(l.$$.fragment,g),g.forEach($),_.forEach($),s=P(u),i=E(u,"DIV",{class:!0});var d=N(i);x(a.$$.fragment,d),c=P(d),p&&p.l(d),d.forEach($),this.h()},h(){w(r,"class","absolute top-4 sm:top-5 right-4"),w(e,"class","flex items-center justify-between"),w(i,"class","mt-5 flex pt-3")},m(u,_){v(u,e,_),I(t,e,null),O(e,n),O(e,r),I(l,r,null),v(u,s,_),v(u,i,_),I(a,i,null),O(i,c),p&&p.m(i,null),f=!0},p(u,_){const g={};_&524289&&(g.$$scope={dirty:_,ctx:u}),t.$set(g);const d={};_&1&&(d.color=u[16].status.connected?"green":"red"),_&524289&&(d.$$scope={dirty:_,ctx:u}),a.$set(d),u[16].status.connected&&u[16].status.connect_time?p?p.p(u,_):(p=X(u),p.c(),p.m(i,null)):p&&(p.d(1),p=null)},i(u){f||(h(t.$$.fragment,u),h(l.$$.fragment,u),h(a.$$.fragment,u),f=!0)},o(u){b(t.$$.fragment,u),b(l.$$.fragment,u),b(a.$$.fragment,u),f=!1},d(u){u&&($(e),$(s),$(i)),D(t),D(l),D(a),p&&p.d()}}}function Y(o){let e,t,n,r;return t=new K({props:{size:"xl",class:"relative shadow-sm max-w-none bg-light-content hover:bg-light-contentHover dark:bg-dark-content dark:hover:bg-dark-contentHover border-light-border dark:border-dark-border p-4 sm:p-6",$$slots:{default:[Te]},$$scope:{ctx:o}}}),{c(){e=C("a"),y(t.$$.fragment),this.h()},l(l){e=E(l,"A",{href:!0,class:!0});var s=N(e);x(t.$$.fragment,s),s.forEach($),this.h()},h(){w(e,"href",n=`/namespaces/${o[5]}/operators/${o[16].id}`),w(e,"class","block")},m(l,s){v(l,e,s),I(t,e,null),r=!0},p(l,s){const i={};s&524289&&(i.$$scope={dirty:s,ctx:l}),t.$set(i),(!r||s&33&&n!==(n=`/namespaces/${l[5]}/operators/${l[16].id}`))&&w(e,"href",n)},i(l){r||(h(t.$$.fragment,l),r=!0)},o(l){b(t.$$.fragment,l),r=!1},d(l){l&&$(e),D(t)}}}function Z(o){let e,t,n;return t=new J({props:{size:"sm",$$slots:{default:[He]},$$scope:{ctx:o}}}),t.$on("click",o[6]),{c(){e=C("div"),y(t.$$.fragment),this.h()},l(r){e=E(r,"DIV",{class:!0});var l=N(e);x(t.$$.fragment,l),l.forEach($),this.h()},h(){w(e,"class","col-span-3 flex justify-center")},m(r,l){v(r,e,l),I(t,e,null),n=!0},p(r,l){const s={};l&524290&&(s.$$scope={dirty:l,ctx:r}),t.$set(s)},i(r){n||(h(t.$$.fragment,r),n=!0)},o(r){b(t.$$.fragment,r),n=!1},d(r){r&&$(e),D(t)}}}function Le(o){let e;return{c(){e=M("Load More")},l(t){e=B(t,"Load More")},m(t,n){v(t,e,n)},i:V,o:V,d(t){t&&$(e)}}}function Fe(o){let e,t;return e=new ve({props:{size:4,color:"gray"}}),{c(){y(e.$$.fragment)},l(n){x(e.$$.fragment,n)},m(n,r){I(e,n,r),t=!0},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){D(e,n)}}}function He(o){let e,t,n,r;const l=[Fe,Le],s=[];function i(a,c){return a[1]?0:1}return e=i(o),t=s[e]=l[e](o),{c(){t.c(),n=Q()},l(a){t.l(a),n=Q()},m(a,c){s[e].m(a,c),v(a,n,c),r=!0},p(a,c){let f=e;e=i(a),e!==f&&(F(),b(s[f],1,1,()=>{s[f]=null}),L(),t=s[e],t||(t=s[e]=l[e](a),t.c()),h(t,1),t.m(n.parentNode,n))},i(a){r||(h(t),r=!0)},o(a){b(t),r=!1},d(a){a&&$(n),s[e].d(a)}}}function qe(o){let e,t,n;return e=new $e({props:{lines:4}}),{c(){y(e.$$.fragment),t=z()},l(r){x(e.$$.fragment,r),t=P(r)},m(r,l){I(e,r,l),v(r,t,l),n=!0},p:V,i(r){n||(h(e.$$.fragment,r),n=!0)},o(r){b(e.$$.fragment,r),n=!1},d(r){r&&$(t),D(e,r)}}}function Re(o){let e,t;return e=new K({props:{size:"xl",class:"shadow-sm max-w-none dark:bg-dark-content border-light-border dark:border-dark-border",$$slots:{default:[qe]},$$scope:{ctx:o}}}),{c(){y(e.$$.fragment)},l(n){x(e.$$.fragment,n)},m(n,r){I(e,n,r),t=!0},p(n,r){const l={};r&524288&&(l.$$scope={dirty:r,ctx:n}),e.$set(l)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){D(e,n)}}}function Ge(o){let e,t,n;return e=new oe({props:{size:"md"}}),{c(){y(e.$$.fragment),t=M(`
									Create Operator`)},l(r){x(e.$$.fragment,r),t=B(r,`
									Create Operator`)},m(r,l){I(e,r,l),v(r,t,l),n=!0},p:V,i(r){n||(h(e.$$.fragment,r),n=!0)},o(r){b(e.$$.fragment,r),n=!1},d(r){r&&$(t),D(e,r)}}}function Je(o){let e,t,n,r,l,s,i="No Operators found",a,c,f="Get started by creating a new Operator",p,u,_;return n=new ke({props:{class:"text-mono-600 dark:text-mono-400 size-12"}}),u=new J({props:{color:"alternative",size:"md",class:"gap-2 whitespace-nowrap px-3",$$slots:{default:[Ge]},$$scope:{ctx:o}}}),u.$on("click",o[8]),{c(){e=C("div"),t=C("div"),y(n.$$.fragment),r=z(),l=C("div"),s=C("p"),s.textContent=i,a=z(),c=C("p"),c.textContent=f,p=z(),y(u.$$.fragment),this.h()},l(g){e=E(g,"DIV",{class:!0});var d=N(e);t=E(d,"DIV",{class:!0});var m=N(t);x(n.$$.fragment,m),m.forEach($),r=P(d),l=E(d,"DIV",{class:!0});var k=N(l);s=E(k,"P",{class:!0,"data-svelte-h":!0}),H(s)!=="svelte-1gi301c"&&(s.textContent=i),a=P(k),c=E(k,"P",{class:!0,"data-svelte-h":!0}),H(c)!=="svelte-1tssr4x"&&(c.textContent=f),p=P(k),x(u.$$.fragment,k),k.forEach($),d.forEach($),this.h()},h(){w(t,"class","flex items-center justify-center mb-3"),w(s,"class","text-2xl font-medium mb-2"),w(c,"class","text-base mb-5"),w(l,"class","text-center text-light-alt dark:text-dark-alt"),w(e,"class","m-5")},m(g,d){v(g,e,d),O(e,t),I(n,t,null),O(e,r),O(e,l),O(l,s),O(l,a),O(l,c),O(l,p),I(u,l,null),_=!0},p(g,d){const m={};d&524288&&(m.$$scope={dirty:d,ctx:g}),u.$set(m)},i(g){_||(h(n.$$.fragment,g),h(u.$$.fragment,g),_=!0)},o(g){b(n.$$.fragment,g),b(u.$$.fragment,g),_=!1},d(g){g&&$(e),D(n),D(u)}}}function Ke(o){let e,t,n,r,l,s,i,a;const c=[Pe,ze],f=[];function p(d,m){return d[2]?0:1}t=p(o),n=f[t]=c[t](o);function u(d){o[9](d)}function _(d){o[10](d)}let g={};return o[0]!==void 0&&(g.operators=o[0]),o[3]!==void 0&&(g.open=o[3]),l=new Ne({props:g}),A.push(()=>T(l,"operators",u)),A.push(()=>T(l,"open",_)),{c(){e=C("main"),n.c(),r=z(),y(l.$$.fragment)},l(d){e=E(d,"MAIN",{});var m=N(e);n.l(m),m.forEach($),r=P(d),x(l.$$.fragment,d)},m(d,m){v(d,e,m),f[t].m(e,null),v(d,r,m),I(l,d,m),a=!0},p(d,[m]){let k=t;t=p(d),t===k?f[t].p(d,m):(F(),b(f[k],1,1,()=>{f[k]=null}),L(),n=f[t],n?n.p(d,m):(n=f[t]=c[t](d),n.c()),h(n,1),n.m(e,null));const S={};!s&&m&1&&(s=!0,S.operators=d[0],j(()=>s=!1)),!i&&m&8&&(i=!0,S.open=d[3],j(()=>i=!1)),l.$set(S)},i(d){a||(h(n),h(l.$$.fragment,d),a=!0)},o(d){b(n),b(l.$$.fragment,d),a=!1},d(d){d&&($(e),$(r)),f[t].d(),D(l,d)}}}const ee=3,te=60;function Qe(o,e,t){let n;fe(o,Ee,m=>t(5,n=m));let r=!0,l=!1,s,i=[],a=!1;ue(async()=>{try{await p()}catch{t(2,l=!0)}});const f=new ie().paginateOperators(te);async function p(){t(1,r=!0);try{const m=await f.fetchNext();t(0,i=[...i,...m]),t(4,a=f.hasNext())}catch(m){se(m)}finally{t(1,r=!1)}}const u=()=>{t(3,s=!0)},_=()=>{t(3,s=!0)};function g(m){i=m,t(0,i)}function d(m){s=m,t(3,s)}return o.$$.update=()=>{if(o.$$.dirty&1&&i){const m=i.length%ee;m>0&&(f.size=te+ee-m)}},[i,r,l,s,a,n,p,u,_,g,d]}class it extends le{constructor(e){super(),ae(this,e,Qe,Ke,re,{})}}export{it as component};
