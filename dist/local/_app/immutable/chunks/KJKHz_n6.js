import"./DsnmJJEf.js";import{t as P,e as x,a as y,s as E}from"./CrH7mYYb.js";import{p as T,f as B,a as q,c as k,e as _,r as z}from"./BkBo4zcc.js";import{c as L,a as w,f as C}from"./UR9opbve.js";import{p as f,i as S,r as A,b as U}from"./BLQyWBbh.js";const R=P({base:"cursor-pointer focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive inline-flex shrink-0 items-center justify-center gap-2 rounded-md text-sm font-medium whitespace-nowrap transition-all outline-none focus-visible:ring-[3px] disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 shadow-xs",destructive:"bg-destructive hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 text-white shadow-xs",outline:"bg-background hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50 border shadow-xs",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80 shadow-xs",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 gap-1.5 rounded-md px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9","icon-sm":"size-8","icon-lg":"size-10"}},defaultVariants:{variant:"default",size:"default"}});var D=C("<a><!></a>"),O=C("<button><!></button>");function Z(n,e){T(e,!0);let s=f(e,"variant",3,"default"),t=f(e,"size",3,"default"),r=f(e,"ref",15,null),a=f(e,"href",3,void 0),i=f(e,"type",3,"button"),l=A(e,["$$slots","$$events","$$legacy","class","variant","size","ref","href","type","disabled","children"]);var p=L(),g=B(p);{var c=u=>{var o=D();x(o,d=>({"data-slot":"button",class:d,href:e.disabled?void 0:a(),"aria-disabled":e.disabled,role:e.disabled?"link":void 0,tabindex:e.disabled?-1:void 0,...l}),[()=>y(R({variant:s(),size:t()}),e.class)]);var b=k(o);E(b,()=>e.children??_),z(o),U(o,d=>r(d),()=>r()),w(u,o)},N=u=>{var o=O();x(o,d=>({"data-slot":"button",class:d,type:i(),disabled:e.disabled,...l}),[()=>y(R({variant:s(),size:t()}),e.class)]);var b=k(o);E(b,()=>e.children??_),z(o),U(o,d=>r(d),()=>r()),w(u,o)};S(g,u=>{a()?u(c):u(N,!1)})}w(n,p),q()}function h(n,e){const s=new Error(e);return s.name=n,s}function V(n,e){return h(n,e.join(";"))}function v(n,e){return n===401?new J(`${n} ${e}`):h("Error Response",`${n} ${e}`)}function j(){return h("Bad Response","Unsupported response schema")}function m(n){return h("Bad Response",`Unsupported Content-Type: ${n}`)}function I(n){return h("Bad Response",`Expected no content 204 status but received: ${n}`)}function M(n){const e=H(n);return e.name="Network Error",e}function F(n){const e=new Error(n);return e.name="Unexpected",e}function G(){const n=new Error("An unknown error occurred");return n.name="Unknown",n}function H(n){return n instanceof Error?n:typeof n=="string"?F(n):G()}class J extends Error{constructor(e){super(e),this.name="Unauthorized"}}class ${baseURL;constructor(e){this.baseURL=e}async request(e,s={}){const t=await this.fetch(e,s),r=t.headers.get("Content-Type")||"";if(!t.ok){if(r.includes("application/json")){const a=await t.json().catch(()=>null);this.handleErrorBody(t.status,t.statusText,a)}throw v(t.status,t.statusText)}if(r.includes("application/json")){const a=await t.json().catch(()=>null);if(a&&"data"in a)return a.data;throw j()}if(r.includes("text/plain"))return await t.text().catch(()=>"");throw m(r)}async requestNoContent(e,s={}){const t=await this.fetch(e,s);if(!t.ok)throw v(t.status,t.statusText);if(t.status!==204)throw I(t.status)}async download(e,s,t={}){const r=await this.fetch(e,t),a=r.headers.get("Content-Type")||"";if(!a.includes("text/plain"))throw m(a);const l=r.headers.get("Content-Disposition")?.match(/filename="(.+)"/),p=l?l[1]:s,g=await r.blob(),c=document.createElement("a");c.href=URL.createObjectURL(g),c.download=p,document.body.appendChild(c),c.click(),document.body.removeChild(c)}async requestPage(e,s={}){const t=await this.fetch(e,s),r=t.headers.get("Content-Type")||"";if(!t.ok){if(r.includes("application/json")){const i=await t.json().catch(()=>null);this.handleErrorBody(t.status,t.statusText,i)}throw v(t.status,t.statusText)}if(!r.includes("application/json"))throw m(r);const a=await t.json().catch(()=>null);if(a&&"data"in a)return a;throw j()}async fetch(e,s){const t=`${this.baseURL}${e}`,r={credentials:"include",headers:{Accept:"application/json, text/plain;q=0.9, */*;q=0.8",...s.headers??{}},...s};try{return await fetch(t,r)}catch(a){throw M(a)}}handleErrorBody(e,s,t){if(t&&"error"in t&&t.error){const{message:r,details:a}=t.error,i=r;throw a&&a.length>0?V(i,a):h(i)}else throw v(e,s)}}class ee{client;path;size;cursor;hasNextPage=!0;constructor(e,s,t,r){this.client=e,this.path=s,this.size=t,this.cursor=r}async fetchNext(){if(!this.hasNext())return[];const e=new URLSearchParams;(this.size!==void 0||this.cursor!==void 0)&&(this.size!==void 0&&e.append("page_size",this.size.toString()),this.cursor!==void 0&&e.append("page_cursor",this.cursor.toString()));const s=e.toString(),t=s?`${this.path}?${s}`:this.path,r=await this.client.requestPage(t);return r.next_page_cursor?this.cursor=r.next_page_cursor:(this.cursor=void 0,this.hasNextPage=!1),r.data}hasNext(){return this.hasNextPage}reset(){this.cursor=void 0,this.hasNextPage=!0}}const te="".replace(/\/$/,"");export{te as A,Z as B,$ as C,ee as P,J as U,R as b,h as n,H as t};
